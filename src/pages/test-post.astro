---
import { useStoryblokApi } from '@storyblok/astro'
import { storyblokEditable } from '@storyblok/astro'
import StoryblokComponent from '@storyblok/astro/StoryblokComponent.astro'

const storyblokApi = useStoryblokApi()
const { blok } = Astro.props
const { data } = await storyblokApi.get("cdn/stories/test-post", {
  version: import.meta.env.DEV ? "draft" : "published",
});

const content = data.story.content;
console.log('Content from Storyblok:', content);

---

<h1>Hello</h1>
<!-- 
<StoryblokComponent blok={content}  />

<main {...storyblokEditable(content)}>
  {
    blok.body?.map((content) => {
      return <StoryblokComponent blok={content} />
    })
  }
</main> -->